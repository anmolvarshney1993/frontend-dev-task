<html class=" js flexbox canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths js flexbox canvas canvastext webgl no-touch geolocation postmessage no-websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients no-cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#2196F3">
    <title>Front-end-Challenge</title>

    <!-- CSS  -->
    <link href="/static/css/plugin-min.css" type="text/css" rel="stylesheet">
    <link href="/static/css/custom-min.css" type="text/css" rel="stylesheet">


</head>
<body id="top" class="scrollspy">

<!-- Pre Loader -->
<div id="loader-wrapper">
    <div id="loader"></div>
 
    <div class="loader-section section-left"></div>
    <div class="loader-section section-right"></div>
 
</div>

<!--Navigation-->
 <div class="navbar-fixed">
    <nav id="nav_f" class="default_color" role="navigation">
        <div class="container">
            <div class="nav-wrapper">
            <a href="#" id="logo-container" class="brand-logo">Challenge-accepted</a>
                
            </div>
        </div>
    </nav>
</div>

<!--Hero-->


<!--Intro and service-->


<!--Work-->
<div class="section scrollspy" id="work">
    <div class="container">
        <h4 class="header text_b">That's where the JSON data is loaded.</h4>
        <div class="row userList" >
            
        </div>
        <h6 class="header text_b" style="color:black;">* Click image to load more data</h6>
    </div>

</div>

<div class="section scrollspy" id="work">
    <div class="container">
        <h4 class="header text_b">That's where single JSON data with body is loaded.</h4>
        <h4>and if isRead equals false text is highlighted.</h4>
        <div class="row userListsingle" >
            
        </div>
        <h6 class="header text_b" style="color:black;">* Click image to load more data</h6>
    </div>

</div>

<div class="section scrollspy" id="">
    <div class="container">
        <h4 class="header text_b">That's where single JSON data is deleted.</h4>
        <div class="row userListdelete" >
            
        </div>
        <h6 class="header text_b" style="color:black;">* Click image to delete data</h6>
    </div>

</div>

<!--Parallax-->


<!--Team-->


<!--Footer-->



     <!-- Scripts -->
     <script src="/static/js/plugin-min.js"></script>
     <script src="/static/js/custom-min.js"></script>

    

<div class="hiddendiv common"></div><div style="left: 0px;" class="drag-target"></div><div style="left: 0px;" class="drag-target"></div><div class="drag-target" style="left: 0px;"></div><div class="drag-target" style="left: 0px;"></div>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script type="text/javascript">
 // Empty content string
 

 // jQuery AJAX call for JSON

//That's where the JSON data is loaded.

  $.getJSON( '/api/message', function( data ) {
         
        // For each item in our JSON, add a table row and cells to the content string
        $.each(data, function(){
            
           var tableContent = '<div class="col s12 m4 l4"> <div class="card"> <div class="card-image waves-effect waves-block waves-light"> <img class="activator"src="/static/img/project2.jpeg"> </div><div class="card-content"> <span class="card-title activator grey-text text-darken-4">Subject: ' + this.subject + '<i class="mdi-navigation-more-vert right"></i></span> <p><a href="#">Participants: '+ this.participants +'</a></p></div><div class="card-reveal"> <span class="card-title grey-text text-darken-4">Preview: '+ this.preview +' <i class="mdi-navigation-close right"></i></span> <p>isRead:  '+ this.isRead + '</p><p>ts: '+ this.ts +'</p></div></div></div>';

           $(".userList").append(tableContent);
        });

        // Inject the whole content string into our existing HTML table
          

       });



//That's where single JSON data is loaded and if isRead = false text is highlighted.


  $.getJSON( '/api/message/2', function( data ) {
         
        // For each item in our JSON, add a table row and cells to the content string
        
            
           var tableContent = '<div class="s12 m4 l4"> <div class="card"> <div class="card-image waves-effect waves-block waves-light" style="height:50%;"> <img class="activator"src="/static/img/parallax1.png"> </div><div class="card-content"> <span class="card-title activator grey-text text-darken-4" >Subject: ' + data.subject + '<i class="mdi-navigation-more-vert right"></i></span> <p><a href="#" id="highlightText">Body: '+ data.body +'</a></p></div><div class="card-reveal"> <span class="card-title grey-text text-darken-4">Preview:'+data.preview+' <i class="mdi-navigation-close right"></i></span> <p>isRead:  '+ data.isRead + '</p><p>ts: '+ data.ts +'</p></div></div></div>';

           $(".userListsingle").append(tableContent);

           if(data.isRead == false){
                 document.getElementById("highlightText").style.backgroundColor = "yellow";
                 // var innerHTML = inputText.innerHTML;
                 // console.log(innerHTML);
                  //alert(innerHTML);
              }
        

        // Inject the whole content string into our existing HTML table
          

       });


//That's where single JSON data is deleted.


  $.getJSON( '/api/message/3', function( data ) {
         
        // For each item in our JSON, add a table row and cells to the content string
        
            
           var tableContent = '<div class="s12 m4 l4"> <div class="card"> <div class="card-image waves-effect waves-block waves-light" id="deletedata" style="height:50%;"> <img class="activator"  src="/static/img/project6.jpeg"> </div><div class="card-content"> <span class="card-title activator grey-text text-darken-4">Subject: ' + data.subject + '<i class="mdi-navigation-more-vert right"></i></span> <p><a href="#">Body: '+ data.body +'</a></p></div><div class="card-reveal"> <span class="card-title grey-text text-darken-4"> <i class="mdi-navigation-close right">Preview:'+data.preview+'</i></span> <p>isRead:  '+ data.isRead + '</p><p>ts: '+ data.ts +'</p></div></div></div>';

           $(".userListdelete").append(tableContent);
        

        // Inject the whole content string into our existing HTML table
          //get a reference to the element
        var myBtn = document.getElementById('deletedata');

        //add event listener
        myBtn.addEventListener('click', function(event) {
                  $.ajax({
                url: '/api/message/3',
                type: 'DELETE',
                success: function(result) {
                    alert("data deleted");
                    location.reload();
                }
            });

       });

 
  });



          

</script>
 </body>

</html>

